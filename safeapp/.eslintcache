[{"/Users/yupan/origin/origin-dollar/safeapp/src/App.tsx":"1","/Users/yupan/origin/origin-dollar/safeapp/src/GlobalStyle.ts":"2","/Users/yupan/origin/origin-dollar/safeapp/src/utils/provider.ts":"3","/Users/yupan/origin/origin-dollar/safeapp/src/stores/CoinStore.ts":"4","/Users/yupan/origin/origin-dollar/safeapp/src/index.tsx":"5","/Users/yupan/origin/origin-dollar/safeapp/src/constants/contractAddresses.js":"6","/Users/yupan/origin/origin-dollar/safeapp/src/utils/contracts.js":"7","/Users/yupan/origin/origin-dollar/safeapp/src/stores/AccountStore.ts":"8","/Users/yupan/origin/origin-dollar/safeapp/src/stores/ContractStore.ts":"9","/Users/yupan/origin/origin-dollar/safeapp/src/components/AccountListener.js":"10","/Users/yupan/origin/origin-dollar/safeapp/src/utils/math.js":"11","/Users/yupan/origin/temp/origin-dollar/safeapp/src/GlobalStyle.ts":"12","/Users/yupan/origin/temp/origin-dollar/safeapp/src/constants/contractAddresses.js":"13"},{"size":5373,"mtime":1614747343492,"results":"14","hashOfConfig":"15"},{"size":787,"mtime":1612375187711,"results":"16","hashOfConfig":"15"},{"size":887,"mtime":1614583348866,"results":"17","hashOfConfig":"15"},{"size":186,"mtime":1614747356134,"results":"18","hashOfConfig":"15"},{"size":698,"mtime":1612375187710,"results":"19","hashOfConfig":"15"},{"size":3540,"mtime":1613998545216,"results":"20","hashOfConfig":"15"},{"size":6792,"mtime":1614747353032,"results":"21","hashOfConfig":"15"},{"size":1355,"mtime":1614556544808,"results":"22","hashOfConfig":"15"},{"size":417,"mtime":1614296601474,"results":"23","hashOfConfig":"15"},{"size":2370,"mtime":1614738270924,"results":"24","hashOfConfig":"15"},{"size":2720,"mtime":1614733461044,"results":"25","hashOfConfig":"15"},{"size":787,"mtime":1614747972490,"results":"26","hashOfConfig":"27"},{"size":3540,"mtime":1614747972484,"results":"28","hashOfConfig":"27"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"93lyzo",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":5,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"7xzyw1",{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/yupan/origin/origin-dollar/safeapp/src/App.tsx",[],"/Users/yupan/origin/origin-dollar/safeapp/src/GlobalStyle.ts",[],["58","59","60"],"/Users/yupan/origin/origin-dollar/safeapp/src/utils/provider.ts",["61","62"],"/Users/yupan/origin/origin-dollar/safeapp/src/stores/CoinStore.ts",[],"/Users/yupan/origin/origin-dollar/safeapp/src/index.tsx",[],["63","64","65"],"/Users/yupan/origin/origin-dollar/safeapp/src/constants/contractAddresses.js",[],"/Users/yupan/origin/origin-dollar/safeapp/src/utils/contracts.js",["66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81"],"/Users/yupan/origin/origin-dollar/safeapp/src/stores/AccountStore.ts",[],"/Users/yupan/origin/origin-dollar/safeapp/src/stores/ContractStore.ts",[],"/Users/yupan/origin/origin-dollar/safeapp/src/components/AccountListener.js",["82","83","84","85","86","87","88","89","90"],"import React, { useEffect } from 'react'\nimport _ from 'lodash'\n\nimport AccountStore from '../stores/AccountStore'\nimport { displayCurrency } from '../utils/math'\n\nconst AccountListener = (props) => {\n  const { account, contracts} = props\n  const refetchUserData = AccountStore.useState( s => s.refetchUserData )\n\n  const loadData = async (contracts) => {\n    if (!account) {\n      return\n    }\n    if (!contracts) {\n      console.warn('Contracts not yet loaded!')\n      return\n    }\n\n    const {\n      usdt,\n      dai,\n      usdc,\n      ousd,\n      vault,\n      ogn,\n      uniV2OusdUsdt,\n      liquidityOusdUsdt,\n      ognStaking,\n      ognStakingView,\n    } = contracts\n\n    const loadBalances = async () => {\n      if (!account) return\n\n      try {\n        const [\n          ousdBalance,\n          usdtBalance,\n          daiBalance,\n          usdcBalance,\n          ognBalance,\n        ] = await Promise.all([\n          displayCurrency(await ousd.balanceOf(account), ousd),\n          displayCurrency(await usdt.balanceOf(account), usdt),\n          displayCurrency(await dai.balanceOf(account), dai),\n          displayCurrency(await usdc.balanceOf(account), usdc),\n          displayCurrency(await ogn.balanceOf(account), ogn),\n        ])\n\n        AccountStore.update((s) => {\n          s.balances = {\n            usdt: usdtBalance,\n            dai: daiBalance,\n            usdc: usdcBalance,\n            ousd: ousdBalance,\n            ogn: ognBalance,\n          }\n        })\n      } catch (e) {\n        console.error(\n          'AccountListener.js error - can not load account balances: ',\n          e\n        )\n      }\n    }\n\n    await loadBalances();\n  }\n\n  useEffect(() => {\n    console.log(\"refresh changed:\", refetchUserData);\n    if (refetchUserData) {\n      setTimeout( () => { console.log(\"loading balances from refresh..\"); loadData(contracts); }, 1000);\n      AccountStore.update((s) => {\n          s.refetchUserData = false;\n        })\n    }\n  }, [contracts, refetchUserData]);\n\n  useEffect(() => {\n    let balancesInterval\n    if (contracts && account) {\n      loadData(contracts)\n\n      balancesInterval = setInterval(() => {\n        loadData(contracts)\n      }, 7000)\n    }\n\n    return () => {\n      if (balancesInterval) {\n        clearInterval(balancesInterval)\n      }\n    }\n  }, [account, contracts])\n\n  return null\n}\n\nexport default AccountListener\n","/Users/yupan/origin/origin-dollar/safeapp/src/utils/math.js",[],"/Users/yupan/origin/temp/origin-dollar/safeapp/src/GlobalStyle.ts",[],"/Users/yupan/origin/temp/origin-dollar/safeapp/src/constants/contractAddresses.js",[],{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","severity":1,"message":"98","line":1,"column":18,"nodeType":"99","messageId":"100","endLine":1,"endColumn":26},{"ruleId":"97","severity":1,"message":"101","line":1,"column":28,"nodeType":"99","messageId":"100","endLine":1,"endColumn":37},{"ruleId":"91","replacedBy":"102"},{"ruleId":"93","replacedBy":"103"},{"ruleId":"95","replacedBy":"104"},{"ruleId":"105","severity":1,"message":"98","line":1,"column":18,"nodeType":"99","messageId":"100","endLine":1,"endColumn":26},{"ruleId":"105","severity":1,"message":"101","line":1,"column":28,"nodeType":"99","messageId":"100","endLine":1,"endColumn":37},{"ruleId":"105","severity":1,"message":"106","line":12,"column":7,"nodeType":"99","messageId":"100","endLine":12,"endColumn":26},{"ruleId":"105","severity":1,"message":"107","line":59,"column":5,"nodeType":"99","messageId":"100","endLine":59,"endColumn":15},{"ruleId":"105","severity":1,"message":"108","line":60,"column":5,"nodeType":"99","messageId":"100","endLine":60,"endColumn":17},{"ruleId":"109","severity":1,"message":"110","line":75,"column":15,"nodeType":"111","messageId":"112","endLine":75,"endColumn":17},{"ruleId":"109","severity":1,"message":"110","line":75,"column":35,"nodeType":"111","messageId":"112","endLine":75,"endColumn":37},{"ruleId":"105","severity":1,"message":"113","line":122,"column":9,"nodeType":"99","messageId":"100","endLine":122,"endColumn":22},{"ruleId":"105","severity":1,"message":"114","line":146,"column":9,"nodeType":"99","messageId":"100","endLine":146,"endColumn":17},{"ruleId":"115","severity":2,"message":"116","line":151,"column":21,"nodeType":"99","messageId":"117","endLine":151,"endColumn":29},{"ruleId":"105","severity":1,"message":"118","line":161,"column":9,"nodeType":"99","messageId":"100","endLine":161,"endColumn":29},{"ruleId":"115","severity":2,"message":"119","line":166,"column":9,"nodeType":"99","messageId":"117","endLine":166,"endColumn":19},{"ruleId":"115","severity":2,"message":"120","line":205,"column":19,"nodeType":"99","messageId":"117","endLine":205,"endColumn":32},{"ruleId":"115","severity":2,"message":"121","line":232,"column":11,"nodeType":"99","messageId":"117","endLine":232,"endColumn":21},{"ruleId":"105","severity":1,"message":"122","line":239,"column":7,"nodeType":"99","messageId":"100","endLine":239,"endColumn":17},{"ruleId":"115","severity":2,"message":"119","line":241,"column":3,"nodeType":"99","messageId":"117","endLine":241,"endColumn":13},{"ruleId":"105","severity":1,"message":"123","line":1,"column":8,"nodeType":"99","messageId":"100","endLine":1,"endColumn":13},{"ruleId":"105","severity":1,"message":"124","line":2,"column":8,"nodeType":"99","messageId":"100","endLine":2,"endColumn":9},{"ruleId":"105","severity":1,"message":"125","line":25,"column":7,"nodeType":"99","messageId":"100","endLine":25,"endColumn":12},{"ruleId":"105","severity":1,"message":"126","line":27,"column":7,"nodeType":"99","messageId":"100","endLine":27,"endColumn":20},{"ruleId":"105","severity":1,"message":"127","line":28,"column":7,"nodeType":"99","messageId":"100","endLine":28,"endColumn":24},{"ruleId":"105","severity":1,"message":"128","line":29,"column":7,"nodeType":"99","messageId":"100","endLine":29,"endColumn":17},{"ruleId":"105","severity":1,"message":"129","line":30,"column":7,"nodeType":"99","messageId":"100","endLine":30,"endColumn":21},{"ruleId":"130","severity":1,"message":"131","line":79,"column":6,"nodeType":"132","endLine":79,"endColumn":34,"suggestions":"133"},{"ruleId":"130","severity":1,"message":"131","line":96,"column":6,"nodeType":"132","endLine":96,"endColumn":26,"suggestions":"134"},"jsx-a11y/accessible-emoji",[],"no-native-reassign",["135"],"no-negated-in-lhs",["136"],"@typescript-eslint/no-unused-vars","'Contract' is defined but never used.","Identifier","unusedVar","'BigNumber' is defined but never used.",[],["135"],["136"],"no-unused-vars","'NetworkChainMapping' is assigned a value but never used.","'iErc20Json' is assigned a value but never used.","'iUniPairJson' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'fetchOgnStats' is assigned a value but never used.","'fetchAPY' is assigned a value but never used.","no-undef","'aprToApy' is not defined.","undef","'fetchCreditsPerToken' is assigned a value but never used.","'YieldStore' is not defined.","'fetchInterval' is not defined.","'setupPools' is not defined.","'afterSetup' is assigned a value but never used.","'React' is defined but never used.","'_' is defined but never used.","'vault' is assigned a value but never used.","'uniV2OusdUsdt' is assigned a value but never used.","'liquidityOusdUsdt' is assigned a value but never used.","'ognStaking' is assigned a value but never used.","'ognStakingView' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadData'. Either include it or remove the dependency array.","ArrayExpression",["137"],["138"],"no-global-assign","no-unsafe-negation",{"desc":"139","fix":"140"},{"desc":"141","fix":"142"},"Update the dependencies array to be: [contracts, loadData, refetchUserData]",{"range":"143","text":"144"},"Update the dependencies array to be: [account, contracts, loadData]",{"range":"145","text":"146"},[1960,1988],"[contracts, loadData, refetchUserData]",[2299,2319],"[account, contracts, loadData]"]